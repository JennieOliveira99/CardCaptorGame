<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style/estilo.css">

  <title>Captor Sakura Card </title>
</head>
</head>

<body class="background1">
  <div id="text-container">
    <p id="display-text">Essa história é uma homenagem à magia e à amizade de Sakura Card Captors.</p>
  </div>
  <button id="change-button" onclick="changeTextAndBackground()">Avançar</button>

  <script>
    let textIndex = 0;
    //declarando quais imagens entrarão na variavel backgrounds por meio de Array
    const backgrounds = ["backgroun6.jpg", "teste.jpg",
      "background7.jpg", "teste.jpg", "background5.png",
      "backgroun6.jpg", "background7.jpg", "background8.jpg",
      "background9.jpg", "background10.png", "background11.jpg",
      "background12.jpg", "background13.jpg", "background14.jpg", "background15.png",
      "background16.jpg", "background17.jpg"];

    //declarando variavel que recebera os textos e inserindo os textos
    const texts = ["Sakura e Tomoyo estão na Escola Tomoeda. Sakura sente uma presença mágica estranha.",
      "SAKURA: Ei Tomoyo, algo está errado. Sinto uma carta Clow por perto.",
      "TOMOYO: Vamos, Sakura! Se troque no banheiro e vamos investigar!",
      "Sakura e Tomoyo seguem a presença mágica até a biblioteca.",
      "SAKURA: Aqui é o lugar. Deve estar escondida entre os livros!",
      "TOMOYO: Tenho minha câmera pronta, Sakura. Faça isso com estilo!",
      "Sakura vê uma carta flutuando no ar.",
      "SAKURA: Lá está ela. Vai ser fácil!",
      "Enquanto Sakura se aproxima para selar a carta, ela é envolvida por uma luz mágica.",
      "TOMOYO: Sakura, cuidado!",
      "A carta emite uma luz intensa e cria um redemoinho mágico, sugando Sakura para dentro da carta.",
      "SAKURA (gritando) Tomoyo, me ajude!",
      "TOMOYO: Sakura! Essa carta é perigosa. Preciso lutar para te libertar!",
      "Tomoyo, corajosa, puxa uma carta Clow de sua bolsa.",
      "TOMOYO:(determinada) Preciso ser forte por você, Sakura!",
      "Ao invocar a carta Clow, o báculo de Sakura cai dos céus nas mãos de Tomoyo.",
      "Ajude Tomoyo a recuperar a carta que está aprisionando Sakura."


    ];



    
function changeTextAndBackground() {
  const body = document.body;
  const displayText = document.getElementById("display-text");

  // Verifica se há mais textos e backgrounds disponíveis
  if (textIndex < texts.length && textIndex < backgrounds.length) {
    // Altera o texto com base no índice atual
    displayText.textContent = texts[textIndex];

    // Altera o background com base no índice atual
    body.style.backgroundImage = `url('${backgrounds[textIndex]}')`;

    // Incrementa o índice após usar o valor atual
    textIndex++;

    // Verifica se chegou ao último diálogo
    if (textIndex === texts.length) {
      addButton("Ajudar a Tomoyo", "goTonextpage()");
      document.getElementById("change-button").disabled = true;
    }
  }

    }

    //criando a funcao do novo botao

    function addButton(text, onclick) {
      const button = document.createElement("button");
      button.className = "button";
      button.textContent = text;
      button.setAttribute("onclick", onclick);
      document.getElementById("text-container").appendChild(button);
    }

    function goTonextpage() {
      window.location.href = "outra-pagina.html";
    }
  </script>



</body>

</html>