<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style/estilo.css">

  <title>Captor Sakura Card </title>
</head>
</head>

<body class="background1">
  <div id="text-container">
    <p id="display-text">Essa história é uma homenagem à magia e à amizade de Sakura Card Captors.</p>
  </div>
  <button id="change-button" onclick="changeTextAndBackground()">Avançar</button>

  <script>
    let textIndex = 0;
    //declarando quais imagens entrarão na variavel backgrounds por meio de Array
    const backgrounds = ["/img/sala.jpg", "/img/sala.jpg",
      "/img/banheiro.jpg", "/img/patio.jpg", "/img/biblio3.jpg",
      "/img/biblio3.jpg", "/img/patio3.jpg", "/img/patio3.jpg",
      "/img/cardpower.jpg", "/img/cardpower.jpg", "/img/cardpower.jpg",
      "/img/cardpower.jpg", "/img/patio2.jpg", "/img/patio2.jpg", "/img/patio2.jpg",
      "/img/sky2.jpg", "/img/cardpower.jpg"];

    //declarando variavel que recebera os textos e inserindo os textos
    const texts = ["Sakura e Tomoyo estão na Escola Tomoeda. Ao final da aula, Sakura sente uma presença mágica estranha.",
      "SAKURA: Ei Tomoyo, algo está errado. Sinto uma carta Clow por perto.",
      "TOMOYO: Vamos, Sakura! Se troque no banheiro e vamos investigar!",
      "Sakura troca rapidamente de traje e junto de Tomoyo, segue a presença mágica até a biblioteca.",
      "SAKURA: Aqui é o lugar. Deve estar escondida entre os livros!",
      "Sakura vê uma carta flutuando no ar, indo em direção à janela, ela e Tomoyo correm atrás da carta, saindo da escola.",
      "TOMOYO: Tenho minha câmera pronta, Sakura. Faça isso com estilo!",
      "TOMOYO: Lá está ela!",
      "Enquanto Sakura se aproxima para selar a carta, ela e Tomoyo são envolvidas por uma luz mágica.",
      "TOMOYO: Sakura, cuidado!",
      "A carta emite uma luz intensa e cria um redemoinho mágico, puxando sakura e Tomoyo.",
      "Sakura com seu báculo protege Tomoyo, sendo Sakura puxada para dentro da carta.",
      "TOMOYO: Sakura! Não se preocupe, vou lutar para te libertar!",
      "Tomoyo, corajosa, puxa uma carta Clow de sua bolsa.",
      "TOMOYO:(determinada) Preciso ser forte por você, Sakura!",
      "Suas palavras regadas de determinação invocam da carta Clow o báculo de Sakura, que cai dos céus nas mãos de Tomoyo.",
      "Ajude Tomoyo a recuperar a carta que está aprisionando Sakura."


    ];



    
function changeTextAndBackground() {
  const body = document.body;
  const displayText = document.getElementById("display-text");

  // Verifica se há mais textos e backgrounds disponíveis
  if (textIndex < texts.length && textIndex < backgrounds.length) {
    // Altera o texto com base no índice atual
    displayText.textContent = texts[textIndex];

    // Altera o background com base no índice atual
    body.style.backgroundImage = `url('${backgrounds[textIndex]}')`;

    // Incrementa o índice após usar o valor atual
    textIndex++;

    // Verifica se chegou ao último diálogo
    if (textIndex === texts.length) {
      addButton("Ajudar a Tomoyo", "goTonextpage()");
      document.getElementById("change-button").disabled = true;
    }
  }

    }

    //criando a funcao do novo botao

    function addButton(text, onclick) {
      const button = document.createElement("button");
      button.className = "button";
      button.textContent = text;
      button.setAttribute("onclick", onclick);
      document.getElementById("text-container").appendChild(button);
    }

    function goTonextpage() {
      window.location.href = "outra-pagina.html";
    }
  </script>



</body>

</html>